(this["webpackJsonpsell-react-page"]=this["webpackJsonpsell-react-page"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/logo.430b7e23.png"},34:function(e,t,a){e.exports=a.p+"static/media/order_confirmed.0c375cc3.svg"},35:function(e,t,a){e.exports=a.p+"static/media/request_lost.74f870d4.svg"},36:function(e,t,a){e.exports=a(69)},41:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),c=a.n(s),l=a(2),o=(a(41),a(1)),i=a(16),u=a(14),m=a.n(u),d="".concat("","/"),f={countries:"".concat("","/sell/api/countries"),states:"".concat("","/sell/api/states"),cities:"".concat("","/sell/api/cities"),post_property:"".concat("","/sell/api/post-property"),authentication:"".concat("","/user/api/auth")},p="/sell/property",h=(new Date).getFullYear(),v=["image/jpeg","image/png"];var g={errors:{required:"This field is required.",email:"Invalid email.",username:"Username  must contain at least 6 characters.",password:"Password must contain at least 8 characters without spaces.",password_confirmation:"The two passwords did not match.",length:function(e,t){return"This field can only contain between ".concat(e," and ").concat(t," characters.")},numberBetween:function(e,t){return"This field can only contain a number between ".concat(e," and ").concat(t,".")},exact_length:function(e){return"This field can only contain ".concat(e," characters.")}},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},email:function(e){return(e=e.trim())?this.validateEmail(e)?[]:[this.errors.email]:[this.errors.required]},minMaxLength:function(e,t,a){return(e=e.trim())?e.length<t||e.length>a?[this.errors.length(t,a)]:[]:[this.errors.required]},minMaxNumber:function(e,t,a){return(e=Number(e))||0===e?e<t||e>a?[this.errors.numberBetween(t,a)]:[]:[this.errors.required]},exactLength:function(e,t){return(e=e.trim())?e.length!==t?[this.errors.exact_length(t)]:[]:[this.errors.required]},username:function(e){return(e=e.trim())?/^\w{6,15}$/.test(e)?[]:[this.errors.username]:[this.errors.required]},password:function(e){return e?e.length<8||e.length>128||e.includes(" ")?[this.errors.password]:[]:[this.errors.required]},password_confirmation:function(e,t){return e?e!==t?[this.errors.password_confirmation]:[]:[this.errors.required]},select_option:function(e){return 0===e.filter((function(e){return e.is_selected})).length?[this.errors.required]:[]}},E={setToken:function(e){return localStorage.setItem("token",e)},getToken:function(){return localStorage.getItem("token")},getHeader:function(){return{Authorization:"Token ".concat(this.getToken())}}};function _(){var e=window.innerWidth;return{is_md_mobile:e<=320,is_mobile:e>320&&e<=480,is_phablet:e>480&&e<=600,is_tablet:e>600&&e<=768,is_laptop:e>768&&e<=1280,is_desktop:e>1280}}var b=function(e,t){var a=t.payload;switch(t.type){case"UPDATE_SCREEN_TYPES":return Object(o.a)({},e,{screen_types:_()});case"SET_USER":return Object(o.a)({},e,{is_authenticated:a.is_authenticated,user:a.data});case"SET_LOCATION":return Object(o.a)({},e,{location:Object(o.a)({},e.location,{},a.updates)});case"SET_TYPE":return Object(o.a)({},e,{type:Object(o.a)({},e.type,{},a.updates)});case"SET_SPECIFICATIONS":return Object(o.a)({},e,{specifications:Object(o.a)({},e.specifications,{},a.updates)});case"SET_IMAGES":return Object(o.a)({},e,{images:Object(o.a)({},e.images,{},a.updates)});case"SET_OWNER":return Object(o.a)({},e,{owner:Object(o.a)({},e.owner,{},a.updates)});case"SET_DONE":return Object(o.a)({},e,{done:Object(o.a)({},e.done,{},a.updates)});case"SET_OFFLINE":return Object(o.a)({},e,{is_offline:a.is_offline});default:return e}},N={is_authenticated:!1,user:{full_name:"",email:"",joined:"",is_loading:!0},is_offline:!1,location:{countries:{options:[],errors:[]},states:{options:[],errors:[]},cities:{options:[],errors:[]},street:{value:"",errors:[]},additional:{value:"",errors:[]},is_done:!1},type:{options:[{id:1,value:"Houses",icon_class_name:"fa fa-hotel",code:"hs",is_selected:!0},{id:2,value:"Manufactured",icon_class_name:"fa fa-industry",code:"ma",is_selected:!1},{id:3,value:"Multi-family",icon_class_name:"fa fa-home",code:"mf",is_selected:!1},{id:4,value:"Apartment",icon_class_name:"fa fa-building",code:"ap",is_selected:!1},{id:5,value:"Lots/Land",icon_class_name:"fa fa-map",code:"ll",is_selected:!1},{id:6,value:"Townhomes",icon_class_name:"fa fa-city",code:"th",is_selected:!1}],is_done:!1},specifications:{name:{value:"",errors:[]},description:{value:"",errors:[]},build_year:{value:2e3,errors:[]},bedrooms_number:{value:3,errors:[]},bathrooms_number:{value:1,errors:[]},garages_number:{value:1,errors:[]},parking_spaces_number:{value:1,errors:[]},floor_space:{value:100,errors:[]},price:{value:25e4,errors:[]},includes:[{id:1,value:"Furnisher",icon_class_name:"fa fa-couch",code:"is_furnished",is_selected:!1},{id:2,value:"Heating/Cooling",icon_class_name:"fa fa-snowflake",code:"has_heating_and_colling",is_selected:!1},{id:3,value:"Swimming pool",icon_class_name:"fa fa-swimming-pool",code:"has_swimming_pool",is_selected:!1}],is_done:!1},images:{main_image:{file:null,errors:[]},details_images:{images:[{id:1,file:null},{id:2,file:null},{id:3,file:null},{id:4,file:null}],errors:[]},is_done:!1},owner:{full_name:{value:"",errors:[]},phone:{value:"",errors:[]},email:{value:"",errors:[]},message:{value:"",errors:[]},is_done:!1},done:{is_loading:!0,has_errors:!1,is_done:!1},screen_types:_()},y=Object(n.createContext)(N);function w(e){var t=e.children,a=Object(n.useReducer)(b,N),s=Object(i.a)(a,2),c=s[0],l=s[1];function u(e,t){l({type:"SET_USER",payload:{data:e,is_authenticated:t}})}function d(e){l({type:"SET_LOCATION",payload:{updates:e}})}function p(e){l({type:"SET_TYPE",payload:{updates:e}})}function v(e){l({type:"SET_SPECIFICATIONS",payload:{updates:e}})}function _(e){l({type:"SET_IMAGES",payload:{updates:e}})}function w(e){l({type:"SET_OWNER",payload:{updates:e}})}function C(e){l({type:"SET_DONE",payload:{updates:e}})}function O(){var e=c.location,t=c.type,a=c.specifications,n=c.images,r=c.owner;C({is_loading:!0});var s=new FormData;s.append("city_id",e.cities.options.filter((function(e){return e.is_selected}))[0].id),s.append("street_name",e.street.value),s.append("location_name",e.additional.value),s.append("property_type",t.options.filter((function(e){return e.is_selected}))[0].code),s.append("name",a.name.value),s.append("description",a.description.value),s.append("build_year",a.build_year.value),s.append("bedrooms_number",a.bedrooms_number.value),s.append("bathrooms_number",a.bathrooms_number.value),s.append("garages_number",a.garages_number.value),s.append("parking_spaces_number",a.parking_spaces_number.value),s.append("floor_space",a.floor_space.value),s.append("price",a.price.value),a.includes.forEach((function(e){var t=e.is_selected,a=e.code;t&&s.append(a,1)})),s.append("main_image",n.main_image.file),n.details_images.images.forEach((function(e){var t=e.file;Boolean(t)&&s.append("details_images",t)})),s.append("full_name",r.full_name.value),s.append("phone",r.phone.value),s.append("email",r.email.value),s.append("message",r.message.value),m.a.post(f.post_property,s).then((function(e){e.data;C({is_loading:!1,has_errors:!1,is_done:!0})})).catch((function(e){C({is_loading:!1,has_errors:!0})}))}var k=Object(o.a)({},c,{setCheckUserAuthentication:function(){if(!E.getToken())return u({full_name:"",email:"",joined:"",is_loading:!1},!1);m.a.get(f.authentication,{headers:E.getHeader()}).then((function(e){var t=e.data;E.setToken(t.token_key),u(Object(o.a)({},t,{is_loading:!1}),!0)})).catch((function(e){console.log(e),u({full_name:"",email:"",joined:"",is_loading:!1},!1)}))},setUser:u,setLocation:d,setLocationStreet:function(e){d({street:{errors:[],value:e}})},setFetchCountries:function(){m.a.get(f.countries).then((function(e){d({countries:{options:e.data.countries.map((function(e){return Object(o.a)({},e,{is_selected:!1})})),errors:[]},states:{options:[],errors:[]},cities:{options:[],errors:[]}})})).catch((function(e){console.log(e)}))},setCountryAndFetchStates:function(e){m.a.get("".concat(f.states,"/").concat(e)).then((function(t){d({states:{options:t.data.states.map((function(e){return Object(o.a)({},e,{is_selected:!1})})),errors:[]},countries:{options:c.location.countries.options.map((function(t){return t.id===e?Object(o.a)({},t,{is_selected:!0}):Object(o.a)({},t,{is_selected:!1})})),errors:[]},cities:{options:[],errors:[]}})})).catch((function(e){console.log(e)}))},setStateAndFetchCities:function(e){m.a.get("".concat(f.cities,"/").concat(e)).then((function(t){d({cities:{options:t.data.cities.map((function(e){return Object(o.a)({},e,{is_selected:!1})})),errors:[]},states:{options:c.location.states.options.map((function(t){return t.id===e?Object(o.a)({},t,{is_selected:!0}):Object(o.a)({},t,{is_selected:!1})})),errors:[]}})})).catch((function(e){console.log(e)}))},setCity:function(e){d({cities:{options:c.location.cities.options.map((function(t){return t.id===e?Object(o.a)({},t,{is_selected:!0}):Object(o.a)({},t,{is_selected:!1})})),errors:[]}})},handleLocationSubmit:function(e){var t=c.location,a=t.cities,n=t.states,r=t.countries,s=t.street;a.errors=g.select_option(a.options),n.errors=g.select_option(n.options),r.errors=g.select_option(r.options),s.errors=g.minMaxLength(s.value,1,35),a.errors.length||n.errors.length||r.errors.length||s.errors.length?(d({cities:a,states:n,countries:r,street:s,is_done:!1}),e.preventDefault()):d({is_done:!0})},setLocationAdditional:function(e){d({additional:{errors:[],value:e}})},setType:p,setSelectedType:function(e){p({options:c.type.options.map((function(t){return t.id===e?Object(o.a)({},t,{is_selected:!0}):Object(o.a)({},t,{is_selected:!1})}))})},handleTypeSubmit:function(){p({is_done:!0})},setSpecifications:v,setSpecificationsFieldValue:function(e,t){var a={};a[e]={value:t,errors:[]},v(a)},setSpecificationsIncludes:function(e){v({includes:c.specifications.includes.map((function(t){return t.id===e?Object(o.a)({},t,{is_selected:!t.is_selected}):t}))})},handleSpecificationsSubmit:function(e){var t=c.specifications,a=t.name,n=t.description,r=t.price,s=t.floor_space,l=t.build_year;a.errors=g.minMaxLength(a.value,10,50),n.errors=g.minMaxLength(n.value,20,500),l.errors=g.minMaxNumber(l.value,1900,h),r.errors=g.minMaxNumber(r.value,5e4,2e6),s.errors=g.minMaxNumber(s.value,50,2e3),a.errors.length||n.errors.length||r.errors.length||s.errors.length||l.errors.length?(e.preventDefault(),v({name:a,description:n,price:r,floor_space:s,build_year:l,is_done:!1})):v({is_done:!0})},setImages:_,setMainImage:function(e){_({main_image:{file:e,errors:[]}})},setDetailsImage:function(e,t){_({details_images:{images:c.images.details_images.images.map((function(a){return a.id===e?{id:e,file:t}:a})),errors:[]}})},handleImagesSubmit:function(e){var t=c.images,a=t.main_image,n=t.details_images;a.errors=a.file?[]:["The cover image is required."],n.errors=n.images.filter((function(e){var t=e.file;return Boolean(t)})).length>=2?[]:["Please upload at least 2 images."],a.errors.length||n.errors.length?(e.preventDefault(),_({main_image:a,details_images:n,is_done:!1})):_({is_done:!0})},setOwner:w,setOwnerField:function(e,t){var a={};a[e]={value:t,errors:[]},w(a)},handleOwnerSubmit:function(e){var t=c.owner,a=t.full_name,n=t.phone,r=t.email;a.errors=g.minMaxLength(a.value,2,50),n.errors=g.minMaxLength(n.value,9,15),r.errors=g.email(r.value),r.errors.length||n.errors.length||a.errors.length?(w({full_name:a,phone:n,email:r,is_done:!1}),e.preventDefault()):(w({is_done:!0}),O())},postProperty:O,updateScreenTypes:function(){l({type:"UPDATE_SCREEN_TYPES"})},setOffline:function(e){l({type:"SET_OFFLINE",payload:{is_offline:e}})}});return r.a.createElement(y.Provider,{value:k},t)}var C=a(12),O=a(31),k=a.n(O);var S=function(e){var t=e.className,a=void 0===t?"":t,n=e.address;return r.a.createElement("iframe",{title:n,className:a,src:"https://maps.google.com/maps?q=".concat(n,"&output=embed"),frameBorder:"0",allowFullScreen:"",ariaHidden:"false",tabIndex:"0"})},j=a(7),T=a(8),x=a(10),F=a(9);a(59),a(60);var L=function(e){var t=e.errors,a=e.className,n=void 0===a?"":a;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("small",{className:"field-error".concat(n?" ".concat(n):""),key:t},e)})))},D=function(e){Object(x.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={focus:!1},n}return Object(T.a)(a,[{key:"setFocus",value:function(e){this.setState({focus:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.value,s=t.errors,c=void 0===s?[]:s,l=t.className,o=void 0===l?"":l,i=t.onChange,u=t.max,m=void 0===u?"":u,d=t.min,f=void 0===d?"":d,p=this.state.focus,h={display:n?"block":"none"},v=c.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-field".concat(p||n?" focus":"").concat(v?" errors focus":"").concat(o?" ".concat(o):"")},r.a.createElement("label",null,a),r.a.createElement("input",{type:"text",value:n,maxLength:m,minLength:f,onChange:function(e){return i(e.target.value)},onFocus:function(){return e.setFocus(!0)},onBlur:function(){return e.setFocus(!1)}}),r.a.createElement("i",{style:h,title:"clear",onClick:function(e){return i("")},className:"clear fas fa-times"})),r.a.createElement(L,{errors:c}))}}]),a}(n.Component),I=(n.Component,function(e){Object(x.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={focus:!1},n}return Object(T.a)(a,[{key:"setFocus",value:function(e){this.setState({focus:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.value,s=t.errors,c=void 0===s?[]:s,l=t.className,o=void 0===l?"":l,i=t.onChange,u=t.max,m=void 0===u?"":u,d=t.min,f=void 0===d?"":d,p=this.state.focus,h={display:n?"block":"none"},v=c.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-field text-area".concat(p||n?" focus":"").concat(v?" errors focus":"").concat(o?" ".concat(o):"")},r.a.createElement("label",null,a),r.a.createElement("textarea",{type:"text",value:n,maxLength:m,minLength:f,onChange:function(e){return i(e.target.value)},onFocus:function(){return e.setFocus(!0)},onBlur:function(){return e.setFocus(!1)}}),r.a.createElement("i",{style:h,title:"clear",onClick:function(e){return i("")},className:"clear fas fa-times"})),r.a.createElement(L,{errors:c}))}}]),a}(n.Component)),P=(n.Component,function(e){Object(x.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={focus:!1},n}return Object(T.a)(a,[{key:"setFocus",value:function(e){this.setState({focus:e})}},{key:"onChange",value:function(e){var t=this.props,a=t.max,n=t.min;0===e||isNaN(e)?isNaN(e)||this.props.onChange(e):a&&(n||0===n)?e<=a&&e>=n&&this.props.onChange(e):this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.value,s=t.errors,c=void 0===s?[]:s,l=t.className,o=void 0===l?"":l,i=t.max,u=void 0===i?"":i,m=t.min,d=void 0===m?"":m,f=c.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-field number-field focus".concat(f?" errors focus":"").concat(o?" ".concat(o):"")},r.a.createElement("label",null,a),r.a.createElement("input",{type:"text",value:n,max:u,min:d,onChange:function(t){return e.onChange(Number(t.target.value))},onFocus:function(){return e.setFocus(!0)},onBlur:function(){return e.setFocus(!1)}}),r.a.createElement("i",{title:"Increment",onClick:function(t){return e.onChange(Number(n+1))},className:"clear fa fa-plus-square"}),r.a.createElement("i",{title:"Decrement",onClick:function(t){return e.onChange(Number(n-1))},className:"clear fa fa-minus-square"})),r.a.createElement(L,{errors:c}))}}]),a}(n.Component)),A=(a(61),function(e){Object(x.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).state={show_options:!1},n}return Object(T.a)(a,[{key:"showOptions",value:function(){this.setState({show_options:!this.state.show_options})}},{key:"selectOption",value:function(e){this.setState({show_options:!1}),this.props.onChange(e)}},{key:"handleDocumentClick",value:function(e){this.state.show_options&&!e.target.classList.contains("_op_")&&this.setState({show_options:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick.bind(this))}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,n=t.options,s=t.errors,c=void 0===s?[]:s,l=this.state.show_options,o=n.filter((function(e){return!0===e.is_selected})),i=o.length>0,u=c.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){return e.showOptions()},className:"select-field _op_ ".concat(i?" selected":"").concat(l?" focus":"").concat(u?" errors":""," ")},r.a.createElement("label",{className:"_op_"},a),r.a.createElement("div",{className:"selected _op_"},i?o[0].value:""," "),r.a.createElement("div",{className:"options _op_".concat(l?"":" hide")},n.map((function(t){return r.a.createElement("div",{className:t.is_selected?"selected _op_":"_op_",key:t.id,onClick:function(){return e.selectOption(t.id)}}," ",t.value," ")}))),r.a.createElement("i",{title:"clear",className:"icon fas fa-caret-down _op_"})),r.a.createElement(L,{errors:c}))}}]),a}(n.Component));var R=function(e){var t=Object(n.useContext)(y),a=t.location,s=t.setLocationStreet,c=t.setLocationAdditional,o=t.setLocation,i=t.setCountryAndFetchStates,u=t.setStateAndFetchCities,m=t.setCity,d=t.handleLocationSubmit,f=t.screen_types;Object(n.useEffect)((function(){o({is_done:!1}),window.scrollTo(0,0)}),[]);var h=a.street,v=a.countries,g=a.cities,E=a.states,_=a.additional,b=g.options.filter((function(e){return e.is_selected}))[0]||{value:""},N=v.options.filter((function(e){return e.is_selected}))[0]||{value:""},w=E.options.filter((function(e){return e.is_selected}))[0]||{value:""},C=f.is_laptop,O=f.is_desktop;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"part-2"},r.a.createElement("div",{className:"form-1"},r.a.createElement("h1",{className:"title"},"Property location"),r.a.createElement("p",{className:"pragraph"},"Please, full fill these fields to recognise your home location."),r.a.createElement("div",{className:"field"},r.a.createElement(A,{errors:v.errors,label:"Country",onChange:function(e){return i(e)},options:v.options})),r.a.createElement("div",{className:"field"},r.a.createElement(A,{errors:E.errors,label:"State",onChange:function(e){return u(e)},options:E.options})),r.a.createElement("div",{className:"field"},r.a.createElement(A,{errors:g.errors,label:"City",onChange:function(e){return m(e)},options:g.options})),r.a.createElement("div",{className:"field"},r.a.createElement(D,{errors:h.errors,max:35,label:"Street name",onChange:function(e){return s(e)},value:h.value})),r.a.createElement("div",{className:"field last"},r.a.createElement(D,{errors:_.errors,max:35,label:"Additional informations",onChange:function(e){return c(e)},value:_.value}),r.a.createElement("small",{className:"info"},"Exp: appartment name, floor number...")),r.a.createElement("div",{className:"btns"},r.a.createElement(l.b,{onClick:function(e){return function(e){d(e),window.scrollTo(0,0)}(e)},to:"".concat(p,"/2"),className:"btn-primary btn-full hg"},"Next",r.a.createElement("i",{className:"fa fa-arrow-right right"}))))),C||O?r.a.createElement("div",{className:"part-1"},r.a.createElement(S,{className:"map",address:"".concat(b.value,"+").concat(w.value,"+").concat(N.value)})):null)};a(67);function M(e){var t=e.className,a=void 0===t?"":t,n=e.iconClassName,s=void 0===n?"":n,c=e.title,l=e.is_selected,o=void 0!==l&&l,i=e.onClick;return r.a.createElement("div",{onClick:i,className:"select-card".concat(a?" ".concat(a):"").concat(o?" selected":"")},r.a.createElement("i",{className:s}),r.a.createElement("b",null,c))}var U=function(e){var t=Object(n.useContext)(y),a=t.location,s=t.type,c=t.setSelectedType,o=t.handleTypeSubmit,i=t.setType;Object(n.useEffect)((function(){i({is_done:!1}),window.scrollTo(0,0)}),[]);var u=s.options;return a.is_done?r.a.createElement("div",{className:"part-full"},r.a.createElement("div",{className:"form-1 lg"},r.a.createElement("h1",{className:"title"},"Property type"),r.a.createElement("p",{className:"pragraph"},"Please, select your home type."),r.a.createElement("div",{className:"multi-fields last"},u.map((function(e){return r.a.createElement(M,{onClick:function(){return c(e.id)},key:e.id,is_selected:e.is_selected,title:e.value,iconClassName:e.icon_class_name})}))),r.a.createElement("div",{className:"btns"},r.a.createElement(l.b,{to:"".concat(p,"/1"),className:"btn-outline-primary hg right-mr icon-only"},r.a.createElement("i",{className:"fa fa-arrow-left"})),r.a.createElement(l.b,{onClick:function(){return o()},to:"".concat(p,"/3"),className:"btn-primary btn-full hg"},"Next",r.a.createElement("i",{className:"fa fa-arrow-right right"}))))):r.a.createElement(C.a,{to:"".concat(p,"/1")})};var q=function(e){var t=Object(n.useContext)(y),a=t.specifications,s=t.type,c=t.location,o=t.handleSpecificationsSubmit,i=t.setSpecifications,u=t.setSpecificationsFieldValue,m=t.setSpecificationsIncludes;Object(n.useEffect)((function(){i({is_done:!1}),window.scrollTo(0,0)}),[]);var d=a.name,f=a.description,h=a.build_year,v=a.bedrooms_number,g=a.bathrooms_number,E=a.garages_number,_=a.parking_spaces_number,b=a.floor_space,N=a.price,w=a.includes;if(s.is_done){var O=c.countries.options.filter((function(e){return e.is_selected}))[0].currency;return r.a.createElement("div",{className:"part-full"},r.a.createElement("div",{className:"form-1 lg"},r.a.createElement("h1",{className:"title"},"Property Specifications"),r.a.createElement("p",{className:"pragraph"},"Please, full fill all fields to go forward."),r.a.createElement("div",{className:"field"},r.a.createElement(D,{max:50,errors:d.errors,label:"short name",value:d.value,onChange:function(e){return u("name",e)}})),r.a.createElement("div",{className:"field last"},r.a.createElement(I,{max:500,errors:f.errors,label:"description",value:f.value,onChange:function(e){return u("description",e)}})),r.a.createElement("small",{className:"parser"},r.a.createElement("span",null,"Basics")),r.a.createElement("div",{className:"two-fields last"},r.a.createElement("div",{className:"field"},r.a.createElement(P,{errors:h.errors,label:"Build year",value:h.value,onChange:function(e){return u("build_year",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(P,{max:20,min:0,label:"Bedrooms number",value:v.value,onChange:function(e){return u("bedrooms_number",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(P,{max:20,min:0,label:"Bathrooms number",value:g.value,onChange:function(e){return u("bathrooms_number",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(P,{max:10,min:0,label:"Grages number",value:E.value,onChange:function(e){return u("garages_number",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(P,{max:10,min:0,label:"Parking spaces number",value:_.value,onChange:function(e){return u("parking_spaces_number",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(P,{errors:b.errors,label:"Floor space (SQFT unit)",value:b.value,onChange:function(e){return u("floor_space",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(P,{errors:N.errors,label:"Price - ".concat(O," currency"),value:N.value,onChange:function(e){return u("price",e)}}))),r.a.createElement("small",{className:"parser"},r.a.createElement("span",null,"Includes")),r.a.createElement("div",{className:"multi-fields last"},w.map((function(e){return r.a.createElement(M,{onClick:function(){return m(e.id)},key:e.id,is_selected:e.is_selected,title:e.value,iconClassName:e.icon_class_name})}))),r.a.createElement("div",{className:"btns"},r.a.createElement(l.b,{to:"".concat(p,"/2"),className:"btn-outline-primary hg right-mr icon-only"},r.a.createElement("i",{className:"fa fa-arrow-left"})),r.a.createElement(l.b,{onClick:function(e){return function(e){o(e),window.scrollTo(0,0)}(e)},to:"".concat(p,"/4"),className:"btn-primary btn-full hg"},"Next",r.a.createElement("i",{className:"fa fa-arrow-right right"})))))}return r.a.createElement(C.a,{to:"".concat(p,"/2")})},B=(a(68),r.a.Component,function(e){Object(x.a)(a,e);var t=Object(F.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).fileInput=r.a.createRef(),n.state={drop_zone_active:!1,img_src:e.file?window.URL.createObjectURL(e.file):null},n}return Object(T.a)(a,[{key:"handleDragEnter",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleDragOver",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({drop_zone_active:!0})}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({drop_zone_active:!1})}},{key:"handleDrop",value:function(e){if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.files&&e.dataTransfer.files[0]){var t=e.dataTransfer.files[0],a=this.props,n=a.allowedTypes,r=a.onChange;if(n.includes(t.type)){r(t);var s=window.URL.createObjectURL(t);this.setState({drop_zone_active:!1,img_src:s})}else alert("Image extension should be in this list: ".concat(n.map((function(e){return" ".concat(e.split("/")[1])})).toString(),"."))}}},{key:"handleChange",value:function(e){if(e.preventDefault(),e.target.files[0]){var t=e.target.files[0],a=this.props,n=a.allowedTypes,r=a.onChange;if(n.includes(t.type)){r(t);var s=window.URL.createObjectURL(t);this.setState({img_src:s})}else alert("Image extension should be in this list: ".concat(n.map((function(e){return" ".concat(e.split("/")[1])})).toString(),"."))}}},{key:"removeFile",value:function(e){e.preventDefault(),this.props.onChange(null),this.setState({img_src:null}),this.fileInput.current.value=""}},{key:"render",value:function(){var e=this,t=this.state,a=t.drop_zone_active,n=t.img_src,s=this.props,c=s.file,l=s.errors,o=void 0===l?[]:l,i=s.label,u=s.btnClassName,m=void 0===u?"":u,d=s.btnRemoveClassName,f=void 0===d?"":d,p=c?c.name:null,h=o.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"file-input".concat(a?" active":"").concat(h?" errors":"").concat(p?" has-file":"")},r.a.createElement("div",{onDragEnter:function(t){return e.handleDragEnter(t)},onDragOver:function(t){return e.handleDragOver(t)},onDragLeave:function(t){return e.handleDragLeave(t)},onDrop:function(t){return e.handleDrop(t)},className:"drop-zone"},r.a.createElement("label",null,i),r.a.createElement("small",{className:"ellipsis"},p||"Drag your file here"),r.a.createElement("br",null),r.a.createElement("input",{ref:this.fileInput,className:"hidden",onChange:function(t){return e.handleChange(t)},type:"file"}),r.a.createElement("center",null,r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.fileInput.current.click()},className:m},p?"Replace image":"Upload image"),p?r.a.createElement("button",{title:"Remove image",onClick:function(t){return e.removeFile(t)},className:f},r.a.createElement("i",{className:"fa fa-times"})):null),n?r.a.createElement("img",{className:"uploaded-image",alt:"Dropped",src:n}):null)),r.a.createElement(L,{className:"cr",errors:o}))}}]),a}(r.a.Component));var z=function(e){var t=Object(n.useContext)(y),a=t.specifications,s=t.images,c=t.setImages,o=t.setMainImage,i=t.setDetailsImage,u=t.handleImagesSubmit;Object(n.useEffect)((function(){c({is_done:!1}),window.scrollTo(0,0)}),[]);var m=s.main_image,d=s.details_images;return a.is_done?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"part-full"},r.a.createElement("div",{className:"form-1 lg"},r.a.createElement("h1",{className:"title"},"Property images"),r.a.createElement("p",{className:"pragraph"},"Please, upload at least 3 images."),r.a.createElement("small",{className:"parser cr"},r.a.createElement("span",null,"Cover")),r.a.createElement("div",{className:"field"},r.a.createElement(B,{errors:d.errors,allowedTypes:v,has_errors:m.errors.length,onChange:function(e){return o(e)},file:m.file,btnRemoveClassName:"btn-outline-primary icon-only",btnClassName:"btn-primary right-mr"})),r.a.createElement("small",{className:"parser"},r.a.createElement("span",null,"Details")),r.a.createElement(L,{className:"cr",errors:d.errors}),r.a.createElement("div",{className:"two-fields last"},d.images.map((function(e){return r.a.createElement("div",{key:e.id,className:"field"},r.a.createElement(B,{allowedTypes:v,onChange:function(t){return i(e.id,t)},file:e.file,btnRemoveClassName:"btn-outline-primary icon-only",btnClassName:"btn-primary right-mr"}))}))),r.a.createElement("div",{className:"btns"},r.a.createElement(l.b,{to:"".concat(p,"/3"),className:"btn-outline-primary hg right-mr icon-only"},r.a.createElement("i",{className:"fa fa-arrow-left"})),r.a.createElement(l.b,{onClick:function(e){return function(e){u(e),window.scrollTo(0,0)}(e)},to:"".concat(p,"/5"),className:"btn-primary btn-full hg"},"Next",r.a.createElement("i",{className:"fa fa-arrow-right right"})))))):r.a.createElement(C.a,{to:"".concat(p,"/3")})};var W=function(){var e=Object(n.useContext)(y),t=e.owner,a=e.images,s=e.handleOwnerSubmit,c=e.setOwnerField,o=e.is_authenticated,i=e.user,u=e.setOwner;Object(n.useEffect)((function(){if(o){var e={value:t.email.value||i.email,errors:[]},a={value:t.full_name.value||i.full_name,errors:[]};u({full_name:a,email:e,is_done:!1})}else u({is_done:!1});window.scrollTo(0,0)}),[]);var m=t.full_name,d=t.email,f=t.phone,h=t.message;return a.is_done?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"part-full"},r.a.createElement("div",{className:"form-1"},r.a.createElement("h1",{className:"title"},"Property Owner"),r.a.createElement("p",{className:"pragraph"},"Please, full fill all fields to post your property."),r.a.createElement("div",{className:"field"},r.a.createElement(D,{errors:m.errors,label:"Full name",value:m.value,onChange:function(e){return c("full_name",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(D,{errors:f.errors,label:"Phone",value:f.value,onChange:function(e){return c("phone",e)}})),r.a.createElement("div",{className:"field"},r.a.createElement(D,{errors:d.errors,label:"Email",value:d.value,onChange:function(e){return c("email",e)}})),r.a.createElement("div",{className:"field last"},r.a.createElement(I,{className:"message",label:"Message (optional)",value:h.value,onChange:function(e){return c("message",e)}})),r.a.createElement("div",{className:"btns"},r.a.createElement(l.b,{to:"".concat(p,"/4"),className:"btn-outline-primary hg right-mr icon-only"},r.a.createElement("i",{className:"fa fa-arrow-left"})),r.a.createElement(l.b,{to:"".concat(p,"/6"),onClick:function(e){return s(e)},className:"btn-primary btn-full hg"},"Post property"))))):r.a.createElement(C.a,{to:"".concat(p,"/4")})},Y=a(34),H=a.n(Y),G=a(35),J=a.n(G);var V=function(e){var t=e.messages,a=Object(n.useState)(0),s=Object(i.a)(a,2),c=s[0],l=s[1];return Object(n.useEffect)((function(){var e=!0;return c!==t.length-1&&setTimeout((function(){e&&l(c+1)}),1e3),function(){return e=!1}}),[c]),r.a.createElement("div",{className:"loading-messages"},t.map((function(e,t){return r.a.createElement("small",{style:{display:t===c?"block":"none"},key:t,className:"message"},e)})),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"120",height:"120",viewBox:"0 0 38 38",stroke:"#066AFF"},r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},r.a.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),r.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18",transform:"rotate(277.945 18 18)"},r.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))))};var Z=function(e){var t=Object(n.useContext)(y),a=t.owner,s=t.done,c=t.postProperty;Object(n.useEffect)((function(){if(window.scrollTo(0,0),s.is_done){window.addEventListener("popstate",(function(){document.location.reload()}))}}),[s.is_done]);var l=a.full_name,o=s.is_loading,i=s.has_errors;if(a.is_done){if(o)return r.a.createElement(V,{messages:["Cheking data","Uploading images","Saving data","Please wait this process takes time."]});if(i)return r.a.createElement("div",{className:"part-full"},r.a.createElement("div",{className:"card-5"},r.a.createElement("h1",{className:"title"},"Sorry, something went wrong."),r.a.createElement("small",null,l.value," we couldn't connect to the server, please check your connection or press retry."),r.a.createElement("button",{onClick:function(){return c()},className:"btn-primary hg"},"Retry",r.a.createElement("i",{className:"fa fa-sync-alt right"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"image md"},r.a.createElement("img",{alt:"Error",src:J.a}))));if(s.is_done)return r.a.createElement("div",{className:"part-full"},r.a.createElement("div",{className:"card-5"},r.a.createElement("h1",{className:"title"},"Your property post was successful."),r.a.createElement("small",{className:""},l.value," We will check your property informations first, then you will recieve an email to know if it is accepted or not."),r.a.createElement("a",{href:d,className:"btn-primary hg"},"Go home ",r.a.createElement("i",{className:"fa fa-arrow-right right"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"image"},r.a.createElement("img",{alt:"Success",src:H.a}))))}return r.a.createElement(C.a,{to:"".concat(p,"/1")})};function $(){var e=Object(n.useContext)(y).screen_types,t=Number(Object(C.f)().STEP_ID),a=20*t;return e.is_desktop?r.a.createElement("div",{className:"steps-progress"},r.a.createElement("div",{className:"steps"},r.a.createElement("span",{className:"step".concat(1===t?" active show-title":"").concat(t>1?" fa fa-check active":" count")},r.a.createElement("span",null,"Location")),r.a.createElement("span",{className:"step".concat(2===t?" active show-title":"").concat(t>2?" fa fa-check active":" count")},r.a.createElement("span",null,"Type")),r.a.createElement("span",{className:"step".concat(3===t?" active show-title":"").concat(t>3?" fa fa-check active":" count")},r.a.createElement("span",null,"Specifications")),r.a.createElement("span",{className:"step".concat(4===t?" active show-title":"").concat(t>4?" fa fa-check active":" count")},r.a.createElement("span",null,"Images")),r.a.createElement("span",{className:"step".concat(5===t?" active show-title":"").concat(t>5?" fa fa-check active":" count")},r.a.createElement("span",null,"Owner"))),r.a.createElement("div",{className:"progress-bar"},r.a.createElement("span",{style:{height:"".concat(a,"%")},className:"progress"}))):r.a.createElement("div",{className:"steps-progress"},r.a.createElement("div",{className:"steps"},r.a.createElement("span",{className:"step".concat(1===t?" active show-title":"").concat(t>1?" fa fa-check active":" count")}),r.a.createElement("span",{className:"step".concat(2===t?" active show-title":"").concat(t>2?" fa fa-check active":" count")}),r.a.createElement("span",{className:"step".concat(3===t?" active show-title":"").concat(t>3?" fa fa-check active":" count")}),r.a.createElement("span",{className:"step".concat(4===t?" active show-title":"").concat(t>4?" fa fa-check active":" count")}),r.a.createElement("span",{className:"step".concat(5===t?" active show-title":"").concat(t>5?" fa fa-check active":" count")})),r.a.createElement("div",{className:"progress-bar"},r.a.createElement("span",{style:{width:"".concat(a,"%")},className:"progress"})))}var Q=function(){var e=Object(n.useContext)(y).setFetchCountries;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement("section",{className:"section-1"},r.a.createElement("div",{className:"steps-bar"},r.a.createElement("a",{href:d,className:"logo"},r.a.createElement("img",{alt:"logo",src:k.a})),r.a.createElement($,null)),r.a.createElement(C.b,{path:"".concat(p,"/1")},r.a.createElement(R,null)),r.a.createElement(C.b,{path:"".concat(p,"/2")},r.a.createElement(U,null)),r.a.createElement(C.b,{path:"".concat(p,"/3")},r.a.createElement(q,null)),r.a.createElement(C.b,{path:"".concat(p,"/4")},r.a.createElement(z,null)),r.a.createElement(C.b,{path:"".concat(p,"/5")},r.a.createElement(W,null)),r.a.createElement(C.b,{path:"".concat(p,"/6")},r.a.createElement(Z,null)))};var K=function(){var e=Object(n.useContext)(y),t=e.setCheckUserAuthentication,a=e.user;return Object(n.useEffect)((function(){return t()}),[]),a.is_loading?r.a.createElement(V,{messages:["Welcome to ws-houses","Please wait this process takes time."]}):r.a.createElement("main",{className:"App"},r.a.createElement(C.b,{path:"".concat(p,"/:STEP_ID")},r.a.createElement(Q,null)))};function X(){var e=Object(n.useContext)(y).updateScreenTypes;return Object(n.useEffect)((function(){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r.a.createElement(K,null)}var ee=function(){return r.a.createElement(w,null,r.a.createElement(l.a,null,r.a.createElement(X,null)))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.4d6596f3.chunk.js.map